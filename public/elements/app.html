<!DOCTYPE html>

<html>

<head>
    <link href="../bower_components/polymer/polymer.html" rel="import">
    <link href="../bower_components/paper-drawer-panel/paper-drawer-panel.html" rel="import">
    <link href="../bower_components/paper-header-panel/paper-header-panel.html" rel="import">
    <link href="../bower_components/paper-toolbar/paper-toolbar.html" rel="import">
    <link href="../bower_components/paper-icon-button/paper-icon-button.html" rel="import">
    <link href="../bower_components/paper-fab/paper-fab.html" rel="import">
    <link href="../bower_components/paper-material/paper-material.html" rel="import">
    <link href="../bower_components/paper-menu/paper-menu.html" rel="import">    
    <link href="../bower_components/paper-item/paper-item.html" rel="import">
    <link href="../bower_components/paper-input/paper-input.html" rel="import">
    <link href="../bower_components/paper-button/paper-button.html" rel="import">
    <link href="../bower_components/paper-dialog/paper-dialog.html" rel="import">
    <link href="../bower_components/paper-dialog-behavior/paper-dialog-behavior.html" rel="import">
    <link href="../bower_components/neon-animation/animations/scale-up-animation.html" rel="import">
    <link href="../bower_components/neon-animation/animations/fade-out-animation.html" rel="import">   
    <link href="../bower_components/iron-overlay-behavior/iron-overlay-behavior.html" rel="import">
    <link href="../bower_components/iron-overlay-behavior/iron-overlay-backdrop.html" rel="import">
    <link href="../bower_components/iron-icons/iron-icons.html" rel="import">
    <link href="../bower_components/google-signin/google-signin.html" rel="import">
    <link href="../bower_components/platinum-https-redirect/platinum-https-redirect.html" rel="import">
</head>

<dom-module id="base-app">
    
    <!-- Attempts to require the page to use HTTPS -->
    <platinum-https-redirect></platinum-https-redirect>

    <template>
        
        <paper-dialog 
            id="welcomeModal" 
            entry-animation="scale-up-animation" 
            exit-animation="fade-out-animation"
            autoFitOnAttach="true"
            modal="true"
            withBackdrop="true">
            
            <div id="welcomeModalContent">
            
                <h2>Please Sign In</h2>
                <div>
                    <google-signin client-id="132101877152-mj6pbmmc8jt05q7o78sm39103fm00189.apps.googleusercontent.com" scopes="https://www.googleapis.com/auth/drive"></google-signin>
                </div>
            </div>
            
        </paper-dialog>
    
        <paper-drawer-panel>
        
            <paper-header-panel class="side-panel" drawer>
            
                <paper-toolbar>
                    <paper-item class="toolbarTitle">Exercises</paper-item>
                </paper-toolbar>
                
                <paper-menu id="menu">
                    <template is="dom-if" if="{{!menuButtons.length}}">
                        <paper-material>
                            <paper-item class="message" elevation="2">
                                <div class="centered">Sign in to view!</div>
                            </paper-item>
                        </paper-material>
                    </template>
                    <div id="menuButtonWrapper" disabled>
                        <paper-button id="viewSummary" class="menuButton buttonHover" on-tap="updateContentView" title="View a summary of all exercises?" raised>Summary</paper-button>
                        <template id="menuButtons" is="dom-repeat" items="{{menuButtons}}">
                            <paper-button id="menu-{{item.hyphenated}}" class="menuButton buttonHover" on-tap="updateContentView" title="View your {{item.lowercase}} training log?" raised>{{item.original}}</paper-button>
                        </template>
                        <paper-button id="editExercises" class="menuButton buttonHover" on-tap="createExercise" title="Edit the exercise list?" raised>Edit Exercise List</paper-button>
                    </div>
                </paper-menu>
                
            </paper-header-panel>
            
            <paper-header-panel main class="main-panel">
            
                <paper-toolbar>
                
                    <paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button>
                    
                    <template id="userHeaderMessageTemplateDefault" is="dom-if" if="{{!currentUserFirstName.length}}">
                        <paper-item class="toolbarTitle">Your Training Log</paper-item>
                    </template>
                    <template id="userHeaderMessageTemplateFilled" is="dom-if" if="{{currentUserFirstName.length}}">
                        <paper-item class="toolbarTitle">{{currentUserFirstName}}'s Training Log</paper-item>
                    </template>
                    
                    <div id="left">
                        <google-signin client-id="132101877152-mj6pbmmc8jt05q7o78sm39103fm00189.apps.googleusercontent.com" scopes="https://www.googleapis.com/auth/drive" title="Sign out of your traing log?"></google-signin>
                    </div>

                </paper-toolbar>
                
                <div id="entryWrapper">
                    <paper-material disabled>
                        <paper-item id="entryMessage" elevation="2"></paper-item>
                    </paper-material>
                </div>
                
                <div id="logWrapper">
                    <paper-material id="logSession" elevation="2">
                        <paper-input type="number" min="0" max="500" id="enterSets" label="Sets" maxlength="3"></paper-input>
                        <paper-input type="number" min="0" max="500" id="enterReps" label="Reps" maxlength="3"></paper-input>
                        <paper-input id="enterWeight" label="Weight" maxlength="4"></paper-input>
                        <paper-input id="enterNotes" char-counter label="Notes" maxlength="140"></paper-input>
                        <paper-fab id="saveSession" class="buttonHover" icon="icons:done" on-tap="createSession" title="Save this session?"></paper-fab>
                    </paper-material>
                </div>

                <div id="graphWrapper">
                    <div id="graph"> </div>
                    <paper-fab id="resetGraph" class="buttonHover" icon="icons:autorenew" title="Reset the graph to its original view?"></paper-fab>
                </div>
                
            </paper-header-panel>
            
        </paper-drawer-panel>

    </template>
    
</dom-module>

<script src="../js/jquery-2.1.4.min.js"> </script>
<script src="../js/d3.v3.min.js"> </script>
<script src="../js/app.js"> </script>